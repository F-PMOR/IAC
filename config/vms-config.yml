vms:
- name: mysql-prod01
  vmid: 200
  environment: prod
  provider: proxmox
  node: pve01
  description: MySQL/MariaDB Production
  cores: 4
  memory: 8192
  disk_size: 100
  ip: 192.168.1.100
  gateway: 192.168.1.1
  mac: BC:24:11:44:BF:10
  tags:
  - terraform
  - prod
  - database
  - debian
  ansible_groups:
  - prod
  - databases
  playbooks:
  - name: post-installation.yml
    vars:
      mysql_max_connections: '200'
  - name: setup-mysql.yml
- name: dolibarr-prod01
  vmid: 201
  environment: prod
  provider: proxmox
  node: pve01
  description: Dolibarr Production - Serveur principal
  cores: 2
  memory: 4096
  disk_size: 50
  ip: 192.168.1.101
  gateway: 192.168.1.1
  mac: BC:24:11:44:BF:01
  tags:
  - terraform
  - prod
  - web
  - erp
  - debian
  ansible_groups:
  - prod
  - webservers
  - dolibarr
  playbooks:
  - name: post-installation.yml
  - name: deploy-dolibarr.yml
    vars:
      git_branch: 22.0.3
      dolibarr_domain: dolibarr-prod.morry.fr
      git_repo_url: https://github.com/Dolibarr/dolibarr.git
  - name: restore-dolibarr-db.yml
    vars:
      backup_file: mysqldump_dolibarrdebian_22.0.2_2511291336.sql.gz
      documents_backup_file: documents_dolibarrdebian_22.0.2_2511291336.tar.gz
- name: dolibarr-preprod01
  vmid: 202
  environment: preprod
  provider: proxmox
  node: pve01
  description: Dolibarr Pre-Production - Tests
  cores: 2
  memory: 2048
  disk_size: 30
  ip: 192.168.1.111
  gateway: 192.168.1.1
  mac: BC:24:11:44:BF:11
  tags:
  - terraform
  - preprod
  - web
  - erp
  - debian
  ansible_groups:
  - preprod
  - webservers
  - dolibarr
  playbooks:
  - name: post-installation.yml
  - name: deploy-dolibarr.yml
    vars:
      git_branch: 22.0.3
      dolibarr_domain: dolibarr-preprod.morry.fr
      git_repo_url: https://github.com/Dolibarr/dolibarr.git
  - name: restore-dolibarr-db.yml
    vars:
      backup_file: mysqldump_dolibarrdebian_22.0.2_2511291336.sql.gz
      documents_backup_file: documents_dolibarrdebian_22.0.2_2511291336.tar.gz
- name: dolibarr-dev01
  vmid: 203
  environment: dev
  provider: proxmox
  node: pve02
  description: Dolibarr DÃ©veloppement
  cores: 2
  memory: 2048
  disk_size: 30
  ip: 192.168.1.121
  gateway: 192.168.1.1
  mac: BC:24:11:44:BF:21
  tags:
  - terraform
  - dev
  - web
  - debian
  ansible_groups:
  - dev
  - webservers
  - dolibarr
  playbooks:
  - name: post-installation.yml
  - name: deploy-dolibarr.yml
    vars:
      git_branch: feature/add_don
      dolibarr_domain: dolibarr-dev.morry.fr
      git_repo_url: https://github.com/F-PMOR/dolibarr.git
  - name: restore-dolibarr-db.yml
    vars:
      backup_file: mysqldump_dolibarrdebian_22.0.2_2511291336.sql.gz
      documents_backup_file: documents_dolibarrdebian_22.0.2_2511291336.tar.gz
global:
  proxmox_node: pve01
  proxmox_datastore: local-lvm
  network_bridge: vmbr0
  network_model: virtio
  dns_servers:
  - 192.168.1.1
  - 8.8.8.8
  default_user: ansible
  ansible_user: ansible
  ansible_python_interpreter: /usr/bin/python3
